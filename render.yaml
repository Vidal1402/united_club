# Render Blueprint - United Club Backend
# https://docs.render.com/blueprint-spec

services:
  - type: web
    name: united-club-api
    runtime: node

    # Build: instala deps, gera Prisma Client, compila NestJS
    buildCommand: npm install --legacy-peer-deps && npm run prisma:generate && npm run build

    # Start: build + start (garante dist/ no Render)
    startCommand: npm run build && node dist/main.js

    envVars:
      - key: NODE_ENV
        value: production
